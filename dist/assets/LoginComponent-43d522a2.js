import{_ as S,e as r,f as T,u as R,g as B,h as C,o as b,c as m,a as e,i as _,v as h,j as M,k as w,t as P,l as N,E as n,p as F,d as q,m as E,n as W,b as k,w as A,T as D}from"./index-d420b9fe.js";const x=s=>(F("data-v-1b2c9211"),s=s(),q(),s),j={class:"form-box login"},O=["onSubmit"],z=x(()=>e("h2",null,"登录",-1)),G={class:"input-box"},H=x(()=>e("span",{class:"icon"},[e("i",{class:"bx bxs-envelope"})],-1)),J=x(()=>e("label",null,"邮箱",-1)),K={class:"input-box"},Q=x(()=>e("span",{class:"icon"},[e("i",{class:"bx bxs-lock-alt"})],-1)),X=x(()=>e("label",null,"密码",-1)),Y={class:"remember-password"},Z={for:""},ee=x(()=>e("a",{href:"#"},"忘记密码?",-1)),se=x(()=>e("button",{class:"btn",id:"siBtn"},"登录",-1)),te=`
    我已阅读并同意《用户协议》
`,oe={__name:"LoginForm",props:["showValue"],emits:["update:showValue"],setup(s,{emit:u}){const y=s,o=r(""),t=r(""),i=r(!1),p=T(),$=R();B();const g=C({get(){return y.showValue},set(f){u("update:showValue",f)}}),V=()=>{g.value=!1};async function U(){if(!o.value){n({message:"请输入邮箱/用户名",type:"error"});return}if(!t.value){n({message:"请输入密码",type:"error"});return}if(!i.value){n({message:"请勾选同意用户协议",type:"error"});return}try{await p.loginWithPassword(o.value,t.value),n({message:"登录成功，即将跳转",type:"success"}),setTimeout(()=>{$.push("/switch")},1e3)}catch(f){n({message:f,type:"error"})}}return(f,d)=>(b(),m("div",j,[e("form",{onSubmit:N(U,["prevent"])},[z,e("div",G,[H,_(e("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=v=>o.value=v),id:"su_email",required:""},null,512),[[h,o.value]]),J]),e("div",K,[Q,_(e("input",{type:"password","onUpdate:modelValue":d[1]||(d[1]=v=>t.value=v),id:"su_password",required:""},null,512),[[h,t.value]]),X]),e("div",Y,[e("label",Z,[_(e("input",{type:"checkbox","onUpdate:modelValue":d[2]||(d[2]=v=>i.value=v)},null,512),[[M,i.value]]),w(P(te))]),ee]),se,e("div",{class:"create-account"},[e("p",null,[w("创建新账号? "),e("a",{href:"#",class:"login-link",onClick:V},"注册")])])],40,O)]))}},ae=S(oe,[["__scopeId","data-v-1b2c9211"]]);const l=s=>(F("data-v-c6ec000e"),s=s(),q(),s),ne={class:"form-box register"},le=["onSubmit"],ie=l(()=>e("h2",null,"注册",-1)),ce={class:"input-box"},ue=l(()=>e("span",{class:"icon"},[e("i",{class:"bx bxs-envelope"})],-1)),re=l(()=>e("label",null,"邮箱",-1)),de={class:"input-box"},_e=l(()=>e("span",{class:"icon"},[e("i",{class:"bx bxs-user"})],-1)),pe=l(()=>e("label",null,"用户名",-1)),ve={class:"input-box"},he=l(()=>e("span",{class:"icon"},[e("i",{class:"bx bxs-id-card"})],-1)),be=l(()=>e("label",null,"真实姓名",-1)),me={class:"input-box"},xe=l(()=>e("span",{class:"icon"},[e("i",{class:"bx bxs-lock-alt"})],-1)),ge=l(()=>e("label",null,"密码",-1)),fe={class:"input-box"},we=l(()=>e("span",{class:"icon"},[e("i",{class:"bx bxs-lock-alt"})],-1)),ye=l(()=>e("label",null,"确认密码",-1)),$e={key:0,class:"password-mismatch"},Ve={class:"remember-password"},ke={for:""},Se=l(()=>e("button",{class:"btn",id:"suBtn"},"注册",-1)),Ie={__name:"RegisterForm",props:["showValue"],emits:["update:showValue"],setup(s,{emit:u}){const y=s,o=T(),t=r(""),i=r(""),p=r(""),$=r(""),g=r("");R(),B();const V=r(!1),U=C(()=>i.value===p.value);async function f(){if(!t.value){n({message:"请填写邮箱",type:"error"});return}if(!i.value){n({message:"请输入密码",type:"error"});return}if(!p.value){n({message:"请确认密码",type:"error"});return}if(!V.value){n({message:"请勾选同意用户协议",type:"error"});return}if(i.value!==p.value){n({message:"两次密码不匹配",type:"error"});return}try{console.log(g.value),await o.register($.value,i.value,p.value,t.value,g.value),n({message:"注册成功，即将跳转",type:"success"}),setTimeout(()=>{d.value=!0},2e3)}catch{n({message:"注册失败",type:"error"});return}}const d=C({get(){return y.showValue},set(L){u("update:showValue",L)}}),v=()=>{d.value=!0};return(L,a)=>(b(),m("div",ne,[e("form",{onSubmit:N(f,["prevent"])},[ie,e("div",ce,[ue,_(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=c=>t.value=c),required:""},null,512),[[h,t.value]]),re]),e("div",de,[_e,_(e("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=c=>g.value=c),required:""},null,512),[[h,g.value]]),pe]),e("div",ve,[he,_(e("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=c=>$.value=c),required:""},null,512),[[h,$.value]]),be]),e("div",me,[xe,_(e("input",{type:"password","onUpdate:modelValue":a[3]||(a[3]=c=>i.value=c),required:""},null,512),[[h,i.value]]),ge]),e("div",fe,[we,_(e("input",{type:"password","onUpdate:modelValue":a[4]||(a[4]=c=>p.value=c),required:""},null,512),[[h,p.value]]),ye,U.value?E("",!0):(b(),m("p",$e,"两次密码不匹配"))]),e("div",Ve,[e("label",ke,[_(e("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=c=>V.value=c)},null,512),[[M,V.value]]),w("我已阅读并同意《用户协议》")])]),Se,e("div",{class:"create-account"},[e("p",null,[w("已经有账号? "),e("a",{href:"#",class:"login-link",onClick:v},"登录")])])],40,le)]))}},Ue=S(Ie,[["__scopeId","data-v-c6ec000e"]]);const Le={name:"SocialIcon"},Ce={class:"social-icon"},Fe=W('<a href="#" data-v-bc9ed851><i class="bx bxl-facebook" data-v-bc9ed851></i></a><a href="#" data-v-bc9ed851><i class="bx bxl-twitter" data-v-bc9ed851></i></a><a href="#" data-v-bc9ed851><i class="bx bxl-youtube" data-v-bc9ed851></i></a><a href="#" data-v-bc9ed851><i class="bx bxl-instagram" data-v-bc9ed851></i></a><a href="#" data-v-bc9ed851><i class="bx bxl-linkedin" data-v-bc9ed851></i></a>',5),qe=[Fe];function Te(s,u,y,o,t,i){return b(),m("div",Ce,qe)}const Re=S(Le,[["render",Te],["__scopeId","data-v-bc9ed851"]]);const I=s=>(F("data-v-3480e58f"),s=s(),q(),s),Be=I(()=>e("div",{class:"background"},null,-1)),Me={class:"container"},Ne={class:"item"},Pe=I(()=>e("h2",{class:"logo"},[e("i",{class:"bx bxl-xing"}),w("aliyu")],-1)),Ee={class:"text-item"},We=I(()=>e("h2",null,[w("Welcome!"),e("br"),e("span",null,"To Our Channel")],-1)),Ae=I(()=>e("p",null,"多人协作，方便快捷",-1)),De={class:"login-section"},je={key:0,class:"form-box"},Oe={key:1,class:"form-box register"},ze={__name:"LoginComponent",setup(s){const u=r(!0);return(y,o)=>(b(),m("div",null,[Be,e("div",Me,[e("div",Ne,[Pe,e("div",Ee,[We,Ae,k(Re)])]),e("div",De,[k(D,null,{default:A(()=>[u.value?(b(),m("div",je,[k(ae,{"show-value":u.value,"onUpdate:showValue":o[0]||(o[0]=t=>u.value=t)},null,8,["show-value"])])):(b(),m("div",Oe,[k(Ue,{"show-value":u.value,"onUpdate:showValue":o[1]||(o[1]=t=>u.value=t)},null,8,["show-value"])]))]),_:1})])])]))}},He=S(ze,[["__scopeId","data-v-3480e58f"]]);export{He as default};
