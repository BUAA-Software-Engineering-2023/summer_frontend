import{g as it,e as c,W as rt,$ as ct,s as ut,a0 as dt,y as $,r as m,o as f,c as h,b as e,w as o,a as s,t as C,i as ye,v as vt,D as i,A as p,F as P,k as g,z as Y,j as mt,m as E,l as A,x as re,T as ft,E as v,Q as pt,a1 as u,a2 as ce}from"./index-d420b9fe.js";import{D as ke,H as Ce,a as xe,T as De,b as Se,C as Ae,c as Te,d as Fe,M as $e,e as gt,E as ht,h as _t,F as wt}from"./FileSaver.min-f6114a76.js";import{S as J}from"./index-41c3c3d0.js";import{a as Le,E as bt}from"./index-bea6d51e.js";import{s as Ve}from"./suggestion-e545872f.js";import{d as x}from"./document-1fa91d60.js";import"./editor.vue_vue_type_style_index_0_lang-75fb86dc.js";import"./team-b7aacf9b.js";const yt={class:"common-layout"},kt={class:"editor__header"},Ct={key:0,class:"title"},xt={class:"optionButton"},Dt=s("h2",null,"生成共享链接",-1),St=s("label",{for:"editable"},"是否可编辑：",-1),At={key:0},Tt=["href"],Ft={class:"item"},$t=["onClick"],Lt=s("div",{class:"button-container"},null,-1),Vt={class:"item"},Bt=["onClick"],Mt=["onClick"],Ht={class:"item"},It=["onClick"],Pt={class:"item"},Et=["onClick"],Ut={slot:"footer",class:"dialog-footer"},Nt={slot:"footer",class:"dialog-footer"},Rt=s("span",null," 确认删除？ ",-1),Wt={class:"dialog-footer"},Ot=s("span",null," 确认删除？ ",-1),jt={class:"dialog-footer"},zt={key:0,class:"button-container"},qt={class:"column"},Gt={class:"column"},Xt={class:"column"},Kt={class:"buttonSet"},Qt={class:"column"},Yt={class:"column"},Jt={key:0,class:"editor"},Zt={class:"editor__footer"},eo={class:"editor__name"},to={class:"history"},oo=s("h2",null,"文档历史记录",-1),lo=`
.title {
  height: 64px;
  width: 800px;
  text-align: center;
  line-height: 64px;
  font-size: 20px;
  font-family: PingFangSC-Regular, PingFang SC;
  font-weight: 500;
  color: rgba(0, 11, 46, 0.85);
}
.all-box {
  position: relative;
}
.all-topic {
  padding: 24px;
}
`,fo={__name:"editor",setup(ao){const Be=it(),ue=["#958DF1","#F98181","#FBBC88","#FAF594","#70CFF8","#94FADB","#B9F18D"];function Me(){return ue[Math.floor(Math.random()*ue.length)]}const Z=c(!1),U=c(!1),L=c(""),N=c([]),He=()=>{Z.value=!0},Ie=()=>{navigator.clipboard.writeText(L.value).then(()=>{console.log("Link copied to clipboard"),v({message:"复制成功",type:"success"})},n=>{console.error("Failed to copy link",n)})},R=c(!1),W=c(!1),ee=c(""),te=c(""),V=c(!1),de=c(""),oe=c(""),B=c(!1),D=c(),a=c(),O=c("connecting"),ve=c(""),b=c(Be.params.documentId);c("");const le=c(!1),M=c(!1),ae=c([]),ne=c([]),me=c([]),Pe=rt(),_=c(""),T=c(_.value),fe=c(!0),H=c(!1),j=c(!1),Ee=()=>{R.value=!0},Ue=()=>{H.value==!1&&et(),H.value=!H.value},pe=n=>{B.value=!0,de.value=n},Ne=n=>{V.value=!0,oe.value=n},ge=n=>{console.log(n),ve.value=n,W.value=!0},S=()=>{Z.value=!1,R.value=!1,W.value=!1},se=c({name:ct(),color:Me()}),Re=()=>{M.value?(We(),_.value=T.value):T.value=_.value,M.value=!M.value};ut(async()=>{await F(),N.value.push("1"),console.log(N.value),j.value=b.value;const n=new ke;D.value=new Ce({url:"ws://127.0.0.1:1234",name:b.value,document:n,forceSyncInterval:200}),D.value.on("status",t=>{O.value=t.status}),a.value=new Le({editable:fe,extensions:[J.configure({history:!1}),xe,De,Se,Ae.configure({document:n}),Te.configure({provider:D.value,user:se.value}),Fe.configure({limit:1e5}),J,$e.configure({HTMLAttributes:{class:"mention"},suggestion:Ve})]})}),dt(()=>{a.value.destroy(),D.value.destroy()});async function We(){try{await x.updateDocument(T.value,$(),b.value),_.value=T.value,console.log(_.value),F(),v({message:"保存成功",type:"success"})}catch{v({message:"修改失败",type:"error"})}}const F=async()=>{const t=(await x.getAllDocuments($())).data;console.log(t),Oe(t)},Oe=n=>{ne.value=[],ae.value=[],n.forEach(t=>{t.folder===null?ne.value.push(t):(ae.value.push(t),N.value.push(t.id)),t.id===b.value&&(_.value=t.title)})};async function je(){const n="http://127.0.0.1:5173/shared/";le.value=!0,console.log(b.value,U.value),await x.createShareLink(b.value,U.value),L.value=n+b.value}async function ze(){try{v({message:"保存成功",type:"success"})}catch{v({message:"保存失败",type:"error"})}}async function qe(){try{V.value=!1,console.log(oe.value),await x.deleteFolder($(),oe.value),v({message:"删除成功",type:"success"}),F()}catch{v({message:"删除失败",type:"error"})}}async function Ge(){try{le.value=!1,await x.cancelShare(b.value),v({message:"取消成功",type:"success"})}catch{v({message:"删除失败",type:"error"})}}async function Xe(n){try{a.value.storage.collaborationCursor.users.length===1&&(console.log(n),await x.restore(n),v({message:"回退成功",type:"success"}))}catch{v({message:"删除失败",type:"error"})}}async function Ke(){try{B.value=!1,await x.deleteDocument($(),de.value),v({message:"删除成功",type:"success"}),F()}catch{v({message:"删除失败",type:"error"})}}async function Qe(){try{await x.createFolder(ee.value,$()),await F(),v({message:"创建成功",type:"success"})}catch{v({message:"创建失败",type:"error"})}S()}async function he(n,t){try{pt.push(`/document/${n}`),b.value=n,j.value=n,_.value=t;const k=new ke;D.value.destroy(),D.value=new Ce({url:"ws://127.0.0.1:1234",name:b.value,document:k,forceSyncInterval:200}),D.value.on("status",y=>{O.value=y.status}),a.value.destroy(),a.value=new Le({editable:fe,extensions:[J.configure({history:!1}),xe,De,Se,Ae.configure({document:k}),Te.configure({provider:D.value,user:se.value}),Fe.configure({limit:1e5}),J,$e.configure({HTMLAttributes:{class:"mention"},suggestion:Ve})]})}catch(k){v({message:"文档获取失败",type:"error"}),console.log(k)}}async function Ye(){try{await x.createDocument($(),te.value,ve.value),await F(),v({message:"创建成功",type:"success"})}catch{v({message:"创建失败",type:"error"})}S()}function Je(){const t=new gt({headingStyle:"atx",hr:"---",bulletListMarker:"-",codeBlockStyle:"fenced",emDelimiter:"*"}).turndown(a.value.getHTML()),k=new Blob([t],{type:"text/markdown;charset=utf-8"}),y=document.createElement("a");y.href=URL.createObjectURL(k),y.download=_.value+".md",y.click(),URL.revokeObjectURL(y.href)}function Ze(){const n=new ht;n.setDocumentProperties({title:"HTML to PDF",author:"SE2023",creator:"SE2023"});const t=document.querySelector("#editor");_t(t,{scale:2}).then(k=>{const y=k.toDataURL("image/png",1),I=n.getImageProperties(y),z=n.internal.pageSize.getWidth(),q=I.height*z/I.width,G=20,X=20,ie=z-2*G,K=q-2*X;n.addImage(y,"PNG",G,X,ie,K),n.save(_.value+".pdf")})}async function et(){try{const n=await x.getHistory(b.value,"");me.value=n.data,console.log(n.data)}catch{v({message:"获取文档失败",type:"error"})}}function tt(n){return`<!DOCTYPE html>
                <html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office"
                  xmlns:w="urn:schemas-microsoft-com:office:word" xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
                  xmlns="http://www.w3.org/TR/REC-html40">
                <head>
                  <!--[if gte mso 9]><xml><w:WordDocument><w:View>Print</w:View><w:TrackMoves>false</w:TrackMoves><w:TrackFormatting/><w:ValidateAgainstSchemas/><w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid><w:IgnoreMixedContent>false</w:IgnoreMixedContent><w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText><w:DoNotPromoteQF/><w:LidThemeOther>EN-US</w:LidThemeOther><w:LidThemeAsian>ZH-CN</w:LidThemeAsian><w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript><w:Compatibility><w:BreakWrappedTables/><w:SnapToGridInCell/><w:WrapTextWithPunct/><w:UseAsianBreakRules/><w:DontGrowAutofit/><w:SplitPgBreakAndParaMark/><w:DontVertAlignCellWithSp/><w:DontBreakConstrainedForcedTables/><w:DontVertAlignInTxbx/><w:Word11KerningPairs/><w:CachedColBalance/><w:UseFELayout/></w:Compatibility><w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel><m:mathPr><m:mathFont m:val="Cambria Math"/><m:brkBin m:val="before"/><m:brkBinSub m:val="--"/><m:smallFrac m:val="off"/><m:dispDef/><m:lMargin m:val="0"/> <m:rMargin m:val="0"/><m:defJc m:val="centerGroup"/><m:wrapIndent m:val="1440"/><m:intLim m:val="subSup"/><m:naryLim m:val="undOvr"/></m:mathPr></w:WordDocument></xml><![endif]-->

                    <meta charset="utf-8">
                    <meta name="viewport" content="width=device-width,initial-scale=1.0">
                    <title>{{title}}</title>
                    <style>${lo}</style>
                </head>
                <body>
                    <div style="display: flex;justify-content: center;">
                      ${n}
                    </div>
                </body>
                </html>`}function ot(){const n=tt(a.value.getHTML()),t=new Blob([n],{type:"application/msword;charset=utf-8"});wt.saveAs(t,_.value+".docx")}return(n,t)=>{const k=m("el-diglog"),y=m("el-header"),I=m("el-menu-item"),z=m("el-menu-item-group"),q=m("el-sub-menu"),G=m("el-menu"),X=m("el-col"),ie=m("el-row"),K=m("el-aside"),_e=m("el-affix"),we=m("el-input"),r=m("el-button"),Q=m("el-dialog"),d=m("el-popover"),lt=m("el-scrollbar"),at=m("el-main"),nt=m("el-table"),be=m("el-container");return f(),h("div",yt,[e(be,null,{default:o(()=>[e(y,null,{default:o(()=>[s("div",kt,[s("div",null,[M.value?ye((f(),h("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=l=>T.value=l),class:"edit-title-input"},null,512)),[[vt,T.value]]):(f(),h("span",Ct,C(_.value),1)),s("button",{class:"changeName",onClick:Re},[e(i(u),{icon:["fas",M.value?"save":"pen-to-square"]},null,8,["icon"])])]),s("div",{class:p(`editor__status editor__status--${O.value}`)},[O.value==="connected"?(f(),h(P,{key:0},[g(C(a.value.storage.collaborationCursor.users.length)+" user"+C(a.value.storage.collaborationCursor.users.length===1?"":"s")+" online is editing "+C(_.value),1)],64)):(f(),h(P,{key:1},[g(" offline ")],64))],2),s("div",xt,[s("button",{onClick:Je},"导出为Markdown"),s("button",{onClick:Ze},"导出为PDF"),s("button",{onClick:ot},"导出为Word"),le.value?(f(),h("button",{key:1,onClick:Ge},"取消分享")):(f(),h("button",{key:0,onClick:He},"共享")),Z.value?(f(),Y(k,{key:2,class:"dialog"},{default:o(()=>[Dt,St,ye(s("input",{type:"checkbox",id:"editable","onUpdate:modelValue":t[1]||(t[1]=l=>U.value=l)},null,512),[[mt,U.value]]),s("button",{onClick:je},"生成链接"),s("button",{onClick:S},"关闭"),L.value?(f(),h("p",At,[g(" 生成的链接："),s("a",{href:L.value,target:"_blank"},C(L.value),9,Tt),s("button",{onClick:Ie},"复制链接")])):E("",!0)]),_:1})):E("",!0),s("button",{class:"saveButton",onClick:ze},[e(i(u),{icon:["fas","floppy-disk"],style:{color:"#96abcf"}})]),s("button",{class:"historyButton",onClick:Ue},[e(i(u),{icon:["fas","clock-rotate-left"],style:{color:"#96abcf"}})])])])]),_:1}),e(be,null,{default:o(()=>[e(_e,{offset:53},{default:o(()=>[e(K,{width:"100%"},{default:o(()=>[e(ie,{class:"tac"},{default:o(()=>[e(X,{span:24},{default:o(()=>[e(G,{"default-openeds":["1"]},{default:o(()=>[e(q,{index:"1","default-openeds":N.value},{title:o(()=>[e(i(u),{icon:["fas","folder"]}),s("span",Ft,C(i(Pe)),1),s("button",{class:"transparent-button-1",onClick:A(Ee,["stop"])},[e(i(u),{icon:["fas","folder-plus"]})],8,$t),s("button",{class:"transparent-button-2",onClick:t[2]||(t[2]=A(l=>ge(""),["stop"]))},[e(i(u),{icon:["fas","file-circle-plus"]})])]),default:o(()=>[Lt,(f(!0),h(P,null,re(ae.value,l=>(f(),h("div",{key:l.id},[e(q,{index:l.id,"default-openeds":l.id},{title:o(()=>[e(i(u),{icon:["fas","folder"]}),s("span",Vt,C(l.name),1),s("button",{class:"transparent-button-2",onClick:A(w=>ge(l.id),["stop"])},[e(i(u),{icon:["fas","file-circle-plus"]})],8,Bt),s("button",{class:"transparent-button-2",onClick:A(w=>Ne(l.id),["stop"])},[e(i(u),{icon:["fas","trash"]})],8,Mt)]),default:o(()=>[e(z,null,{default:o(()=>[(f(!0),h(P,null,re(l.documents,w=>(f(),Y(I,{key:w.id,index:w.id,class:p({"is-active":j.value===w.id}),onClick:st=>he(w.id,w.title)},{default:o(()=>[e(i(u),{icon:["fas","file"]}),s("span",Ht,C(w.title),1),s("button",{class:"transparent-button-2",onClick:A(st=>pe(w.id),["stop"])},[e(i(u),{icon:["fas","trash"]})],8,It)]),_:2},1032,["index","class","onClick"]))),128))]),_:2},1024)]),_:2},1032,["index","default-openeds"])]))),128)),(f(!0),h(P,null,re(ne.value,l=>(f(),Y(I,{key:l.id,index:l.id,class:p({"is-active":j.value===l.id}),onClick:w=>he(l.id,l.title)},{default:o(()=>[e(i(u),{icon:["fas","file"]}),s("span",Pt,C(l.title),1),s("button",{class:"transparent-button-2",onClick:A(w=>pe(l.id),["stop"])},[e(i(u),{icon:["fas","trash"]})],8,Et)]),_:2},1032,["index","class","onClick"]))),128))]),_:1},8,["default-openeds"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(Q,{modelValue:R.value,"onUpdate:modelValue":t[4]||(t[4]=l=>R.value=l),title:"添加文件夹",onClose:S},{default:o(()=>[e(we,{modelValue:ee.value,"onUpdate:modelValue":t[3]||(t[3]=l=>ee.value=l),placeholder:"文件夹名..."},null,8,["modelValue"]),s("div",Ut,[e(r,{type:"primary",onClick:Qe},{default:o(()=>[g("添加")]),_:1}),e(r,{onClick:S},{default:o(()=>[g("取消")]),_:1})])]),_:1},8,["modelValue"]),e(Q,{modelValue:W.value,"onUpdate:modelValue":t[7]||(t[7]=l=>W.value=l),title:"添加文档",onClose:S},{default:o(()=>[e(we,{modelValue:te.value,"onUpdate:modelValue":t[5]||(t[5]=l=>te.value=l),placeholder:"文档名..."},null,8,["modelValue"]),s("div",Nt,[e(r,{type:"primary",onClick:t[6]||(t[6]=l=>Ye(n.foldername))},{default:o(()=>[g("添加")]),_:1}),e(r,{onClick:S},{default:o(()=>[g("取消")]),_:1})])]),_:1},8,["modelValue"]),e(Q,{modelValue:B.value,"onUpdate:modelValue":t[9]||(t[9]=l=>B.value=l),title:"删除",width:"30%",center:""},{footer:o(()=>[s("span",Wt,[e(r,{onClick:t[8]||(t[8]=l=>B.value=!1)},{default:o(()=>[g("取消")]),_:1}),e(r,{type:"primary",onClick:Ke},{default:o(()=>[g(" 确认 ")]),_:1})])]),default:o(()=>[Rt]),_:1},8,["modelValue"]),e(Q,{modelValue:V.value,"onUpdate:modelValue":t[11]||(t[11]=l=>V.value=l),title:"删除",width:"30%",center:""},{footer:o(()=>[s("span",jt,[e(r,{onClick:t[10]||(t[10]=l=>V.value=!1)},{default:o(()=>[g("取消")]),_:1}),e(r,{type:"primary",onClick:qe},{default:o(()=>[g(" 确认 ")]),_:1})])]),default:o(()=>[Ot]),_:1},8,["modelValue"]),e(at,null,{default:o(()=>[e(_e,null,{default:o(()=>[a.value?(f(),h("div",zt,[s("div",qt,[e(d,{placement:"top-start",title:"加粗(Ctrl+B)",width:100,trigger:"hover",content:"将文本加粗"},{reference:o(()=>[e(r,{onClick:t[12]||(t[12]=l=>a.value.chain().focus().toggleBold().run()),disabled:!a.value.can().chain().focus().toggleBold().run(),class:p({"is-active":a.value.isActive("bold")})},{default:o(()=>[e(i(u),{icon:["fas","bold"]})]),_:1},8,["disabled","class"])]),_:1}),e(d,{placement:"top-start",title:"高亮",width:100,trigger:"hover",content:"将文本高亮"},{reference:o(()=>[e(r,{onClick:t[13]||(t[13]=l=>a.value.chain().focus().toggleHighlight().run()),class:p({"is-active":a.value.isActive("highlight")})},{default:o(()=>[e(i(u),{icon:["fas","highlighter"]})]),_:1},8,["class"])]),_:1}),e(d,{placement:"top-start",title:"倾斜(Ctrl+l)",width:100,trigger:"hover",content:"将文字变为斜体"},{reference:o(()=>[e(r,{onClick:t[14]||(t[14]=l=>a.value.chain().focus().toggleItalic().run()),disabled:!a.value.can().chain().focus().toggleItalic().run(),class:p({"is-active":a.value.isActive("italic")})},{default:o(()=>[e(i(u),{icon:["fas","italic"]})]),_:1},8,["disabled","class"])]),_:1}),e(d,{placement:"top-start",title:"删除线",width:100,trigger:"hover",content:"在文本中间画一条线"},{reference:o(()=>[e(r,{onClick:t[15]||(t[15]=l=>a.value.chain().focus().toggleStrike().run()),disabled:!a.value.can().chain().focus().toggleStrike().run(),class:p({"is-active":a.value.isActive("strike")})},{default:o(()=>[e(i(u),{icon:["fas","strikethrough"]})]),_:1},8,["disabled","class"])]),_:1}),e(d,{placement:"top-start",title:"代码块",width:100,trigger:"hover",content:"将文本转换为代码块"},{reference:o(()=>[e(r,{onClick:t[16]||(t[16]=l=>a.value.chain().focus().toggleCode().run()),disabled:!a.value.can().chain().focus().toggleCode().run(),class:p({"is-active":a.value.isActive("code")})},{default:o(()=>[e(i(u),{icon:["fas","code"]})]),_:1},8,["disabled","class"])]),_:1})]),s("div",Gt,[e(d,{title:"段落",content:"一段文字"},{reference:o(()=>[e(r,{onClick:t[17]||(t[17]=l=>a.value.chain().focus().setParagraph().run()),class:p({"is-active":a.value.isActive("paragraph")}),tooltip:"段落"},{default:o(()=>[e(i(u),{icon:["fas","paragraph"]})]),_:1},8,["class"])]),_:1}),e(d,{placement:"top-start",title:"Heading 1",width:100,trigger:"hover",content:"设置为一级标题"},{reference:o(()=>[e(r,{text:"",onClick:t[18]||(t[18]=l=>a.value.chain().focus().toggleHeading({level:1}).run()),class:p({"is-active":a.value.isActive("heading",{level:1})})},{default:o(()=>[g(" h1 ")]),_:1},8,["class"])]),_:1}),e(d,{placement:"top-start",title:"Heading 2",width:100,trigger:"hover",content:"设置为二级标题"},{reference:o(()=>[e(r,{text:"",onClick:t[19]||(t[19]=l=>a.value.chain().focus().toggleHeading({level:2}).run()),class:p({"is-active":a.value.isActive("heading",{level:2})})},{default:o(()=>[g(" h2 ")]),_:1},8,["class"])]),_:1}),e(d,{placement:"top-start",title:"Heading 3",width:100,trigger:"hover",content:"设置为三级标题"},{reference:o(()=>[e(r,{text:"",onClick:t[20]||(t[20]=l=>a.value.chain().focus().toggleHeading({level:3}).run()),class:p({"is-active":a.value.isActive("heading",{level:3})})},{default:o(()=>[g(" h3 ")]),_:1},8,["class"])]),_:1}),e(d,{placement:"top-start",title:"Heading 4",width:100,trigger:"hover",content:"设置为四级标题"},{reference:o(()=>[e(r,{text:"",onClick:t[21]||(t[21]=l=>a.value.chain().focus().toggleHeading({level:4}).run()),class:p({"is-active":a.value.isActive("heading",{level:4})})},{default:o(()=>[g(" h4 ")]),_:1},8,["class"])]),_:1}),e(d,{placement:"top-start",title:"Heading 5",width:100,trigger:"hover",content:"设置为五级标题"},{reference:o(()=>[e(r,{text:"",onClick:t[22]||(t[22]=l=>a.value.chain().focus().toggleHeading({level:5}).run()),class:p({"is-active":a.value.isActive("heading",{level:5})})},{default:o(()=>[g(" h5 ")]),_:1},8,["class"])]),_:1}),e(d,{placement:"top-start",title:"Heading 6",width:100,trigger:"hover",content:"设置为六级标题"},{reference:o(()=>[e(r,{text:"",onClick:t[23]||(t[23]=l=>a.value.chain().focus().toggleHeading({level:6}).run()),class:p({"is-active":a.value.isActive("heading",{level:6})})},{default:o(()=>[g(" h6 ")]),_:1},8,["class"])]),_:1})]),s("div",Xt,[s("div",Kt,[e(d,{title:"无序列表",content:"将选中文本转换为无序列表",placement:"top-start"},{reference:o(()=>[e(r,{style:{"margin-bottom":"10px"},onClick:t[24]||(t[24]=l=>a.value.chain().focus().toggleBulletList().run()),class:p({"is-active":a.value.isActive("bulletList")})},{default:o(()=>[e(i(u),{icon:["fas","bars-staggered"]})]),_:1},8,["class"])]),_:1}),e(d,{title:"有序列表",content:"将选中文本转换为有序列表",placement:"top-start"},{reference:o(()=>[e(r,{style:{"margin-bottom":"10px"},onClick:t[25]||(t[25]=l=>a.value.chain().focus().toggleOrderedList().run()),class:p({"is-active":a.value.isActive("orderedList")})},{default:o(()=>[e(i(u),{icon:["fas","list"]})]),_:1},8,["class"])]),_:1}),e(d,{title:"引用块",content:"将选中文本转换为引用块",placement:"top-start"},{reference:o(()=>[e(r,{style:{"margin-bottom":"10px"},onClick:t[26]||(t[26]=l=>a.value.chain().focus().toggleBlockquote().run()),class:p({"is-active":a.value.isActive("blockquote")})},{default:o(()=>[e(i(u),{icon:["fas","quote-left"]})]),_:1},8,["class"])]),_:1}),e(d,{title:"水平线",content:"插入水平分隔线",placement:"top-start"},{reference:o(()=>[e(r,{style:{"margin-bottom":"10px"},onClick:t[27]||(t[27]=l=>a.value.chain().focus().setHorizontalRule().run())},{default:o(()=>[e(i(u),{icon:["fas","ruler-horizontal"]})]),_:1})]),_:1}),e(d,{title:"硬换行",content:"插入硬换行",placement:"top-start"},{reference:o(()=>[e(r,{style:{"margin-bottom":"10px"},onClick:t[28]||(t[28]=l=>a.value.chain().focus().setHardBreak().run())},{default:o(()=>[e(i(u),{icon:["fas","bacon"]})]),_:1})]),_:1})])]),s("div",Qt,[e(d,{title:"撤销",placement:"top-start"},{reference:o(()=>[e(r,{onClick:t[29]||(t[29]=l=>a.value.chain().focus().undo().run()),disabled:!a.value.can().chain().focus().undo().run()},{default:o(()=>[e(i(u),{icon:["fas","rotate-left"]})]),_:1},8,["disabled"])]),_:1}),e(d,{title:"重做",placement:"top-start"},{reference:o(()=>[e(r,{onClick:t[30]||(t[30]=l=>a.value.chain().focus().redo().run()),disabled:!a.value.can().chain().focus().redo().run()},{default:o(()=>[e(i(u),{icon:["fas","arrow-rotate-right"]})]),_:1},8,["disabled"])]),_:1})]),s("div",Yt,[e(d,{title:"清除所有标记",placement:"top-start"},{reference:o(()=>[e(r,{onClick:t[31]||(t[31]=l=>a.value.chain().focus().unsetAllMarks().run())},{default:o(()=>[e(i(u),{icon:["fas","broom"]})]),_:1})]),_:1})])])):E("",!0)]),_:1}),e(lt,null,{default:o(()=>[a.value?(f(),h("div",Jt,[e(i(bt),{editor:a.value,id:"editor"},null,8,["editor"])])):E("",!0),s("div",Zt,[s("div",eo,[s("div",null,C(se.value.name),1)])])]),_:1})]),_:1}),e(ft,null,{default:o(()=>[H.value?(f(),Y(K,{key:H.value,width:"300px"},{default:o(()=>[s("div",to,[oo,e(nt,{data:me.value,style:{width:"100%"}},{default:o(()=>[e(i(ce),{prop:"id",label:"版本"}),e(i(ce),{prop:"update_time",label:"更新时间"}),e(i(ce),{fixed:"right",label:"操作",width:"60px"},{default:o(l=>[e(r,{link:"",type:"primary",size:"small",onClick:A(w=>Xe(l.row.id),["prevent"])},{default:o(()=>[g(" 回退 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1})])}}};export{fo as default};
