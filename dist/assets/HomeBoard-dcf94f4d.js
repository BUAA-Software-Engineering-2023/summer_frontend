import{c as j}from"./chat-41fceae0.js";import{_ as u,u as N,e as x,M as v,r as a,o as p,z as h,w as o,a as m,b as e,k as g,p as b,d as f,s as H,Q as I,a3 as k,c as $,F as S,x as M,q as T,a4 as B,a5 as P,I as y,a6 as A}from"./index-d420b9fe.js";import{p as D}from"./proj-96266823.js";import{_ as E}from"./cat1-c87d3bf9.js";import{t as F}from"./team-b7aacf9b.js";const O=t=>(b("data-v-2f14141f"),t=t(),f(),t),q={class:"card-header"},V=O(()=>m("span",{class:"title"},"我的群聊",-1)),J={__name:"HomeChat",setup(t){const n=N(),s=x([]);l();async function l(){let c=await j.queryAllRoom(v());s.value=c.data}function r(){n.push({path:`/team/${v()}/chatHome`})}return(c,_)=>{const i=a("el-button"),d=a("el-table-column"),w=a("el-table"),C=a("el-card");return p(),h(C,{class:"box-card"},{header:o(()=>[m("div",q,[V,e(i,{class:"button",onClick:r,text:""},{default:o(()=>[g("查看详情")]),_:1})])]),default:o(()=>[e(w,{data:s.value,height:"150",style:{width:"100%"}},{default:o(()=>[e(d,{prop:"name",label:"群聊名称",width:"220"}),e(d,{prop:"unread_count",label:"未读的消息数",width:"220"}),e(d,{prop:"last_message.update_time",label:"最新消息发送时间",width:"220"})]),_:1},8,["data"])]),_:1})}}},R=u(J,[["__scopeId","data-v-2f14141f"]]);const z=t=>(b("data-v-affc63c8"),t=t(),f(),t),L={class:"card-header"},Q=z(()=>m("span",{class:"title"},"我的项目",-1)),U={__name:"HomeProject",setup(t){const n=x([]);function s(){I.push("/project")}return H(async()=>{const l=await D.getAllProjects(v());console.log("result_project",l),console.log("result_data_project",l.data),console.log("tableData.value",n.value),n.value=l.data}),(l,r)=>{const c=a("el-button"),_=a("el-table-column"),i=a("el-table"),d=a("el-card");return p(),h(d,{class:"box-card"},{header:o(()=>[m("div",L,[Q,e(c,{class:"button",text:"",onClick:s},{default:o(()=>[g("查看详情")]),_:1})])]),default:o(()=>[e(i,{data:n.value,height:"180",style:{width:"100%"}},{default:o(()=>[e(_,{prop:"name",label:"项目名称"}),e(_,{prop:"create_time",label:"开始时间"}),e(_,{prop:"update_time",label:"结束时间"})]),_:1},8,["data"])]),_:1})}}},G=u(U,[["__scopeId","data-v-affc63c8"]]);const K=t=>(b("data-v-eb1260c2"),t=t(),f(),t),W={class:"card-header"},X=K(()=>m("span",{class:"title"},"消息中心",-1)),Y={__name:"HomeMessage",setup(t){const n=x([]);s();async function s(){let l=await k.queryAllNoti(),r=[];l.data.forEach(c=>{var d;let i={content:((d=c.content.match(/(.+?)：/))==null?void 0:d[1])||"",isread:c.is_read===!0?"read":"unread",notId:c.id};r.push(i)}),n.value=r}return(l,r)=>{const c=a("el-button"),_=a("el-table-column"),i=a("el-table"),d=a("el-card");return p(),h(d,{class:"box-card"},{header:o(()=>[m("div",W,[X,e(c,{class:"button",text:""},{default:o(()=>[g("查看详情")]),_:1})])]),default:o(()=>[e(i,{data:n.value,height:"250",style:{width:"100%"}},{default:o(()=>[e(_,{prop:"content",label:"消息内容",width:"320"}),e(_,{prop:"isread",label:"是否已读",width:"320"})]),_:1},8,["data"])]),_:1})}}},Z=u(Y,[["__scopeId","data-v-eb1260c2"]]);const ee=t=>(b("data-v-c112f667"),t=t(),f(),t),te=ee(()=>m("img",{src:E,alt:"",style:{width:"100%",height:"100%"}},null,-1)),ae={__name:"HomeCarousel",setup(t){return(n,s)=>{const l=a("el-carousel-item"),r=a("el-carousel");return p(),h(r,{"indicator-position":"outside",class:"main"},{default:o(()=>[(p(),$(S,null,M(4,c=>e(l,{key:c,class:"main"},{default:o(()=>[te]),_:2},1024)),64))]),_:1})}}},oe=u(ae,[["__scopeId","data-v-c112f667"]]);const se=t=>(b("data-v-7a545437"),t=t(),f(),t),ce={class:"card-header"},ne=se(()=>m("span",{class:"title"},"我的团队",-1)),le={__name:"HomeMember",setup(t){const n=T([]);async function s(){let r=await F.queryTeamMember(v());console.log("############"),r.data.members.forEach(c=>{let _={name:c.name,email:c.email,role:c.role};n.push(_)})}s();function l(){I.push("/member")}return(r,c)=>{const _=a("el-button"),i=a("el-table-column"),d=a("el-table"),w=a("el-card");return p(),h(w,{class:"box-card"},{header:o(()=>[m("div",ce,[ne,e(_,{class:"button",text:"",onClick:l},{default:o(()=>[g("查看详情")]),_:1})])]),default:o(()=>[e(d,{data:n,height:"150",style:{width:"100%"}},{default:o(()=>[e(i,{prop:"name",label:"姓名",width:"220"}),e(i,{prop:"email",label:"邮箱",width:"220"}),e(i,{prop:"role",label:"角色",width:"220"})]),_:1},8,["data"])]),_:1})}}},_e=u(le,[["__scopeId","data-v-7a545437"]]);const re={class:"common-layout"},de={class:"waterfall-container"},ie={__name:"HomeBoard",setup(t){const n=B({showProgress:!0,allowClose:!1,steps:[{element:".el-dropdown",popover:{title:"个人界面",description:"点击后可以选择退出或切换团队"}},{element:".custom-icon-button",popover:{title:"消息中心",description:"点击可以查看自己收到的消息"}},{element:".home-button",popover:{title:"回到主页",description:"点击可以回到个人主页"}},{element:".img-decorate",popover:{title:"展示功能中心",description:"点击可以弹出功能栏"}},{element:".button-container",popover:{title:"功能区",description:"从上到下点击后分别可以进入到项目协作、原型设计、团队管理、聊天室"}}]});return H(()=>{let s=JSON.parse(P());if(Array.isArray(s)||(s=[]),!s||!s.includes(y())){s||(s=[]),s.push(y()),A(JSON.stringify(s));const l=window.document.getElementsByClassName("img-decorate")[0];n.drive(),setTimeout(()=>{n.moveNext()},2e3),setTimeout(()=>{n.moveNext()},4e3),setTimeout(()=>{n.moveNext()},6e3),setTimeout(()=>{l.click()},8e3),setTimeout(()=>{n.moveNext()},8100)}}),(s,l)=>{const r=a("el-aside"),c=a("el-main"),_=a("el-container");return p(),$("div",re,[e(_,null,{default:o(()=>[e(r,{width:"100px"}),e(c,null,{default:o(()=>[m("div",de,[e(R,{class:"item"}),e(G,{class:"item"}),e(_e,{class:"item"}),e(oe,{class:"item"}),e(Z,{class:"item"})])]),_:1})]),_:1})])}}},fe=u(ie,[["__scopeId","data-v-d309ed4a"]]);export{fe as default};
