{"version":3,"file":"js/440.0afb538c.js","mappings":"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","sources":["webpack://visual-drag-demo/./src/components/Editor/ComponentWrapper.vue","webpack://visual-drag-demo/src/components/Editor/ComponentWrapper.vue","webpack://visual-drag-demo/./src/components/Editor/ComponentWrapper.vue?dc91","webpack://visual-drag-demo/./src/components/Editor/ComponentWrapper.vue?4ee6","webpack://visual-drag-demo/./src/views/Preview.vue","webpack://visual-drag-demo/src/views/Preview.vue","webpack://visual-drag-demo/./src/views/Preview.vue?0b0e","webpack://visual-drag-demo/./src/views/Preview.vue?ddaa","webpack://visual-drag-demo/./src/utils/events.js","webpack://visual-drag-demo/./src/utils/runAnimation.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{on:{\"click\":_vm.onClick,\"mouseenter\":_vm.onMouseEnter}},[(_vm.config.component.startsWith('SVG'))?_c(_vm.config.component,{ref:\"component\",tag:\"component\",staticClass:\"component\",style:(_vm.getSVGStyle(_vm.config.style)),attrs:{\"prop-value\":_vm.config.propValue,\"element\":_vm.config,\"request\":_vm.config.request,\"linkage\":_vm.config.linkage}}):_vm._e(),(\n      _vm.config.component.startsWith('Music') ||\n      _vm.config.component.startsWith('Browser')\n    )?_c(_vm.config.component,{ref:\"component\",tag:\"component\",staticClass:\"component\",staticStyle:{\"pointer-events\":\"auto !important\"},style:(_vm.getSVGStyle(_vm.config.style)),attrs:{\"prop-value\":_vm.config.propValue,\"element\":_vm.config,\"request\":_vm.config.request,\"linkage\":_vm.config.linkage}}):_c(_vm.config.component,{ref:\"component\",tag:\"component\",staticClass:\"component\",style:(_vm.getStyle(_vm.config.style)),attrs:{\"prop-value\":_vm.config.propValue,\"element\":_vm.config,\"request\":_vm.config.request,\"linkage\":_vm.config.linkage}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div @click=\"onClick\" @mouseenter=\"onMouseEnter\">\n    <component\n      :is=\"config.component\"\n      v-if=\"config.component.startsWith('SVG')\"\n      ref=\"component\"\n      class=\"component\"\n      :style=\"getSVGStyle(config.style)\"\n      :prop-value=\"config.propValue\"\n      :element=\"config\"\n      :request=\"config.request\"\n      :linkage=\"config.linkage\"\n    />\n    <component\n      :is=\"config.component\"\n      v-if=\"\n        config.component.startsWith('Music') ||\n        config.component.startsWith('Browser')\n      \"\n      ref=\"component\"\n      class=\"component\"\n      :style=\"getSVGStyle(config.style)\"\n      :prop-value=\"config.propValue\"\n      :element=\"config\"\n      :request=\"config.request\"\n      :linkage=\"config.linkage\"\n      style=\"pointer-events: auto !important\"\n    />\n\n    <component\n      :is=\"config.component\"\n      v-else\n      ref=\"component\"\n      class=\"component\"\n      :style=\"getStyle(config.style)\"\n      :prop-value=\"config.propValue\"\n      :element=\"config\"\n      :request=\"config.request\"\n      :linkage=\"config.linkage\"\n    />\n  </div>\n</template>\n\n<script>\nimport { getStyle, getSVGStyle } from \"@/utils/style\";\nimport runAnimation from \"@/utils/runAnimation\";\nimport { mixins } from \"@/utils/events\";\nimport eventBus from \"@/utils/eventBus\";\n\nexport default {\n  mixins: [mixins],\n  props: {\n    config: {\n      type: Object,\n      required: true,\n      default: () => {},\n    },\n  },\n  mounted() {\n    setTimeout(() => {\n      runAnimation(this.$refs.component.$el, this.config.animations);\n    }, 20);\n  },\n  methods: {\n    getStyle,\n    getSVGStyle,\n\n    onClick() {\n      const events = this.config.events;\n      Object.keys(events).forEach((event) => {\n        this[event](events[event]);\n      });\n\n      eventBus.$emit(\"v-click\", this.config.id);\n    },\n\n    onMouseEnter() {\n      eventBus.$emit(\"v-hover\", this.config.id);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.component {\n  position: absolute;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ComponentWrapper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ComponentWrapper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentWrapper.vue?vue&type=template&id=e9fb2a14&scoped=true&\"\nimport script from \"./ComponentWrapper.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentWrapper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComponentWrapper.vue?vue&type=style&index=0&id=e9fb2a14&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9fb2a14\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"container\",staticClass:\"bg\"},[_c('div',{staticClass:\"canvas-container\"},[(_vm.canvasStyleData != {} && _vm.componentData.length != 0)?_c('div',{staticClass:\"canvas\",style:({\n        ..._vm.getCanvasStyle(_vm.canvasStyleData),\n        width: _vm.changeStyleWithScale(_vm.canvasStyleData.width) + 'px',\n        height: _vm.changeStyleWithScale(_vm.canvasStyleData.height) + 'px',\n      })},_vm._l((_vm.componentData),function(item,index){return _c('ComponentWrapper',{key:index,attrs:{\"config\":item}})}),1):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<template>\n  <div ref=\"container\" class=\"bg\">\n    <div class=\"canvas-container\">\n      <div\n        class=\"canvas\"\n        v-if=\"canvasStyleData != {} && componentData.length != 0\"\n        :style=\"{\n          ...getCanvasStyle(canvasStyleData),\n          width: changeStyleWithScale(canvasStyleData.width) + 'px',\n          height: changeStyleWithScale(canvasStyleData.height) + 'px',\n        }\"\n      >\n        <ComponentWrapper\n          v-for=\"(item, index) in componentData\"\n          :key=\"index\"\n          :config=\"item\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getStyle, getCanvasStyle } from \"@/utils/style\";\nimport ComponentWrapper from \"@/components/Editor/ComponentWrapper\";\nimport { changeStyleWithScale } from \"@/utils/translate\";\nexport default {\n  components: { ComponentWrapper },\n  props: {\n    isScreenshot: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      componentData: [],\n      canvasStyleData: {},\n    };\n  },\n  created() {\n    // var url = require(`../../public/previewData/data.json`);\n    // console.log(\"url :>> \", url);\n    // this.componentData = url.componentData;\n    // this.canvasStyleData = url.canvasStyleData;\n\n    if (window.localStorage.getItem(\"componentData\") == null) {\n      window.localStorage.setItem(\"componentData\", \"[]\");\n    }\n    if (window.localStorage.getItem(\"canvasStyleData\") == null) {\n      window.localStorage.setItem(\"canvasStyleData\", \"{}\");\n    }\n    this.componentData = JSON.parse(\n      window.localStorage.getItem(\"componentData\")\n    );\n    this.canvasStyleData = JSON.parse(\n      window.localStorage.getItem(\"canvasStyleData\")\n    );\n\n    console.log(\"this.componentData :>> \", this.componentData);\n    console.log(\"this.canvasStyleData :>> \", this.canvasStyleData);\n  },\n  methods: {\n    getStyle,\n    getCanvasStyle,\n    changeStyleWithScale,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.bg {\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  position: fixed;\n  // background: rgb(0, 0, 0, 0.5);\n  background: #fff;\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  padding: 5px;\n\n  .canvas-container {\n    width: calc(100% - 40px);\n    height: calc(100% - 120px);\n    // overflow: hidden;\n\n    .canvas {\n      background: #fff;\n      position: relative;\n      margin: auto;\n      margin-top: 32px;\n      transform: scale(1.3, 1.25);\n    }\n  }\n}\n</style>\n\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preview.vue?vue&type=template&id=ea5dd1b8&scoped=true&\"\nimport script from \"./Preview.vue?vue&type=script&lang=js&\"\nexport * from \"./Preview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Preview.vue?vue&type=style&index=0&id=ea5dd1b8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ea5dd1b8\",\n  null\n  \n)\n\nexport default component.exports","// 编辑器自定义事件\nconst events = {\n    redirect(url) {\n        if (url) {\n            window.location.href = url\n        }\n    },\n\n    alert(msg) {\n        if (msg) {\n            // eslint-disable-next-line no-alert\n            alert(msg)\n        }\n    },\n}\n\nconst mixins = {\n    methods: events,\n}\n\nconst eventList = [\n    {\n        key: 'redirect',\n        label: '跳转事件',\n        event: events.redirect,\n        param: '',\n    },\n    {\n        key: 'alert',\n        label: 'alert 事件',\n        event: events.alert,\n        param: '',\n    },\n]\n\nexport {\n    mixins,\n    events,\n    eventList,\n}","export default async function runAnimation($el, animations = []) {\n    const play = (animation) => new Promise(resolve => {\n        const { animationTime, value = '', isLoop } = animation\n        $el.style.setProperty('--time', animationTime + 's')\n        $el.classList.add(value, 'animated', utilsHandle(isLoop))\n        const removeAnimation = () => {\n            $el.removeEventListener('animationend', removeAnimation)\n            $el.removeEventListener('animationcancel', removeAnimation)\n            $el.classList.remove(value, 'animated', utilsHandle(isLoop))\n            $el.style.removeProperty('--time')\n            resolve()\n        }\n            \n        $el.addEventListener('animationend', removeAnimation)\n        $el.addEventListener('animationcancel', removeAnimation)\n    })\n\n    for (let i = 0, len = animations.length; i < len; i++) {\n        await play(animations[i])\n    }\n}\n\nfunction utilsHandle(isLoop) {\n    return isLoop ? 'infinite' : 'no-infinite'\n}\n"],"names":["render","_vm","this","_c","_self","on","onClick","onMouseEnter","config","component","startsWith","ref","tag","staticClass","style","getSVGStyle","attrs","propValue","request","linkage","_e","staticStyle","getStyle","staticRenderFns","mixins","props","type","required","default","mounted","setTimeout","runAnimation","methods","Object","eventBus","canvasStyleData","componentData","length","getCanvasStyle","width","changeStyleWithScale","height","_l","item","index","key","components","ComponentWrapper","isScreenshot","data","created","window","console","events","redirect","url","location","href","alert","msg","eventList","label","event","param","async","$el","animations","play","animation","Promise","resolve","animationTime","value","isLoop","setProperty","classList","add","utilsHandle","removeAnimation","removeEventListener","remove","removeProperty","addEventListener","i","len"],"sourceRoot":""}